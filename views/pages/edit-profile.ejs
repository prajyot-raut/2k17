<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <title>Edit profile</title>
    <link rel="stylesheet" href="/styles/css/edit-profile.css">
</head>
<body>
    <%- include('../partials/navbar') %>
<br><br>
<div class="edit-profile-container">
  
  <form class="edit-profile-form" id="edit-profile-form" enctype="multipart/form-data">
    <h2>Edit Profile</h2><br>

    <div class="photo-section">
      <label for="profilePhoto">
        <img class="profile-pic" src="<%= user.profile || '/images/user.png' %>" alt="Profile Photo">
        <input type="file" id="profilePhoto" accept="image/jpg, image/jpeg, image/png">
        <span>Change Profile Photo</span>
      </label>
    </div>

    <div class="form-group">
      <label>Name &nbsp;<span class="grey-1">(Can't be changed)</span></label>
      <input type="text" placeholder="<%= user.name %>" disabled>
    </div>

    <div class="form-group">
      <label>Email &nbsp;<span class="grey-1">(Go to settings to change email)</span></label>
      <input disabled type="email" placeholder="<%= user.email %>">
    </div>
    
    <div class="form-group">
      <label>Username</label>
      <input style="margin-bottom: 4px;" type="text" name="username" value="<%= user.username %>" oninput="checkUsername(this, this.value, '<%= user.username %>')" required>
      <span id="status-icon" class="grey-1 fal"></span>&nbsp; <span id="status-message"></span>
    </div>

    <div class="form-group">
      <label>Phone number</label>
      <input type="tel" maxlength="10" max="9999999999" name="phone" value="<%= user.phone %>">
    </div>

    <div class="form-group">
      <label>Bio</label>
      <textarea name="bio" rows="3" placeholder="Write something about yourself..."><%= user.bio %></textarea>
    </div>

    <div class="form-group">
      <label>Social Links</label>
      <input type="url" name="facebook" placeholder="Facebook URL" value="<%= user.socialLinks?.facebook %>">
      <input type="url" name="linkedin" placeholder="LinkedIn URL" value="<%= user.socialLinks?.linkedin %>">
      <input type="url" name="github" placeholder="GitHub URL" value="<%= user.socialLinks?.github %>">
      <input type="url" name="instagram" placeholder="Instagram URL" value="<%= user.socialLinks?.instagram %>">
      <input type="url" name="other" placeholder="Other URL" value="<%= user.socialLinks?.other %>">
    </div>

    <div id="edit-profile-status"></div><br>

    <button type="submit" class="btn-save">Save Changes</button>
  </form>
</div>

<script src="/js/edit-profile.js"></script>

</body>
</html>