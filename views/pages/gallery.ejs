<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/head') %>
  <title>Gallery | 2k17</title>
  <link rel="stylesheet" href="/css/gallery.css" />
</head>
<body>
  <%- include('../partials/navbar') %>
  <div class="gallery-container">
    <h1>2k17 Batch Gallery</h1>

    <div class="gallery-grid" id="gallery">
      <% media.forEach(item => { %>
        <div class="media-card" onclick="window.open('<%= item.url %>', '_blank')" data-type="<%= item.type %>">
          <% if (item.type.includes('image')) { %>
            <img src="<%= item.url %>" alt="media" />
          <% } else if (item.type.includes('video')) { %>
            <video controls>
              <source src="<%= item.url %>" type="<%= item.type %>" />
              Your browser does not support the video tag.
            </video>
          <% } %>
        </div>
      <% }) %>
      <% if(user) { %>
        <div class="info-card">
          <p>Due to large size, all files are stored on Google Drive.<br><small>You'll need a Gmail account.</small></p>
          <button class="redirect_btn" onclick="window.open('https://drive.google.com/drive/folders/1U6YH3z2pUIFSN5Kgpnhz_H817Pi0Fyix', '_blank')"><span class="fal fa-up-right-from-square"></span> &nbsp; &nbsp; View on Google Drive</button>
        </div>
      <% } else { %>
        <div class="info-card">
          <p>There's 15+ GB of <br>memories to see!<br><small>Login now to see all of it.</small></p>
          <button class="redirect_btn" onclick="window.location.href='/login'"><span class="fal fa-up-right-from-square"></span> &nbsp; &nbsp; Login now</button>
        </div>
      <% } %>
    </div>
    <br><br><br><br>
  </div>

</body>
</html>